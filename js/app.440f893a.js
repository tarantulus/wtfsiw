(function(){"use strict";var e={1441:function(e,n,o){var t=o(9242),r=o(3396);function i(e,n){const o=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(o)}var a=o(89);const c={},s=(0,a.Z)(c,[["render",i]]);var u=s,l=o(5431);(0,l.z)("/wtfsiw/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var d=o(678);const f={class:"home"};function m(e,n,o,t,i,a){const c=(0,r.up)("SearchHeader"),s=(0,r.up)("Container");return(0,r.wg)(),(0,r.iD)("div",f,[(0,r.Wm)(c,{onSearch:n[0]||(n[0]=async e=>await a.searchMovies(e))}),(0,r.Wm)(s,{movies:i.movies},null,8,["movies"])])}var v=o(7139);const h=(0,r._)("h1",null,"What the fuck should I watch?",-1);function p(e,n,o,i,a,c){return(0,r.wg)(),(0,r.iD)("header",null,[h,(0,r._)("form",{onSubmit:n[1]||(n[1]=(0,t.iM)((n=>e.$emit("search",this.searchTerm)),["prevent"]))},[(0,r.wy)((0,r._)("input",{type:"text",id:"search","onUpdate:modelValue":n[0]||(n[0]=e=>a.searchTerm=e),placeholder:"search"},null,512),[[t.nr,a.searchTerm]]),(0,r._)("button",{class:"btn",style:(0,v.j5)({background:o.buttonColour})},"Search",4)],32)])}var g={name:"SearchHeader",emits:["search"],props:{text:String,buttonColour:String},data(){return{searchTerm:""}}};const w=(0,a.Z)(g,[["render",p]]);var b=w;function y(e,n,o,t,i,a){const c=(0,r.up)("Card");return(0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.movies,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e.id},[(0,r.Wm)(c,{movie:e},null,8,["movie"])])))),128)}const _={class:"card"},S=["src"];function k(e,n,o,t,i,a){const c=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",_,[(0,r.Wm)(c,{to:{name:"Movie",params:{id:o.movie.id}}},{default:(0,r.w5)((()=>[(0,r._)("img",{src:o.movie.image.replace(/original/g,"200x300")},null,8,S),(0,r._)("p",null,(0,v.zw)(o.movie.title)+" "+(0,v.zw)(o.movie.year??o.movie.description),1)])),_:1},8,["to"])])}var x={name:"Card",props:{movie:Object}};const M=(0,a.Z)(x,[["render",k],["__scopeId","data-v-824324c8"]]);var O=M,j={name:"Container",props:{movies:Array},components:{Card:O}};const I=(0,a.Z)(j,[["render",y],["__scopeId","data-v-2c7d571e"]]);var A=I;const P="k_5zh0b0pw";async function C(){const e="https://imdb-api.com/en/API/MostPopularMovies/"+P;var n=await T(e);return console.log(n.items),n.items}async function D(e){console.log("searching");const n="https://imdb-api.com/en/API/SearchMovie/"+P;var o=await T(n+"/"+e);return null===o.results&&await C(),o.results}async function Z(e){const n="https://imdb-api.com/en/API/Title/"+P;var o=n+"/"+e,t=await T(o);return console.log(t),t}async function T(e){const n=await fetch(e),o=await n.json();return o}var z={name:"HomeView",components:{SearchHeader:b,Container:A},data(){return{movies:[]}},async created(){this.movies=await this.getPopularMovies()},methods:{searchMovies:D,getPopularMovies:C}};const H=(0,a.Z)(z,[["render",m]]);var W=H;const L={class:"movie"};function E(e,n,o,t,i,a){const c=(0,r.up)("Movie");return(0,r.wg)(),(0,r.iD)("div",L,[(0,r.Wm)(c,{movie:this.movie},null,8,["movie"])])}const G={class:"card"},K=["src"];function N(e,n,o,t,i,a){return(0,r.wg)(),(0,r.iD)("div",G,[(0,r._)("img",{src:this.movie.image},null,8,K),(0,r._)("h1",null,(0,v.zw)(this.movie.fullTitle),1),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.movies,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e.id})))),128))])}var B={name:"Movie",props:{movie:Object},methods:{async AddToMyList(){}}};const F=(0,a.Z)(B,[["render",N],["__scopeId","data-v-26f95ec9"]]);var U=F,V={name:"MovieView",components:{Movie:U},data(){return{id:this.$route.params.id,movie:Object,APIKEY:"k_5zh0b0pw"}},async created(){this.movie=await Z(this.id)}};const Y=(0,a.Z)(V,[["render",E]]);var $=Y;const q=e=>((0,r.dD)("data-v-6f4ff2fe"),e=e(),(0,r.Cn)(),e),J={class:"container container-thin app-container flex flex-x-center flex-column"},Q=q((()=>(0,r._)("header",{class:"container flex flex-xy-center flex-column mb-large"},[(0,r._)("h1",{class:"sronly"},"What the fuck should I watch?"),(0,r._)("img",{src:"https://via.placeholder.com/300x150?text=Logo",alt:"",class:"main-logo"}),(0,r._)("h2",null,"Subtitle goes here.")],-1))),R={class:"container flex flex-y-center flex-column"},X=q((()=>(0,r._)("a",{href:"#",class:"button button-large full-width"},"Login",-1)));function ee(e,n,o,t,i,a){return(0,r.wg)(),(0,r.iD)("section",J,[Q,(0,r._)("section",R,[X,(0,r._)("a",{href:"#",onClick:n[0]||(n[0]=(...e)=>a.googleSignIn&&a.googleSignIn(...e)),class:"button button-large full-width"},"Signup with Google")])])}var ne=o(6780),oe=(o(450),{name:"SignUp",methods:{googleSignIn:function(){let e=new ne.Z.auth.GoogleAuthProvider;ne.Z.auth().signInWithPopup(e).then((()=>{this.$router.push({name:"Home"})})).catch((e=>{console.log(e)}))}}});const te=(0,a.Z)(oe,[["render",ee],["__scopeId","data-v-6f4ff2fe"]]);var re=te;const ie=[{path:"/",name:"Landing",component:re},{path:"/Home",name:"Home",component:W},{path:"/Movie/:id",name:"Movie",component:$}],ae=(0,d.p7)({history:(0,d.PO)("/wtfsiw/"),routes:ie});function ce(){var e=ne.Z.auth().currentUser;return!!e}ae.beforeEach((async(e,n,o)=>{ce()||"Landing"===e.name?o():o({name:"Landing"})}));var se=ae;ne.Z.initializeApp({apiKey:"AIzaSyAaT-NzALlozGO7zMBE4JmZkBDG82mdu9E",authDomain:"wtfsiw-3af12.firebaseapp.com"}),(0,t.ri)(u).use(se).mount("#app")}},n={};function o(t){var r=n[t];if(void 0!==r)return r.exports;var i=n[t]={exports:{}};return e[t](i,i.exports,o),i.exports}o.m=e,function(){var e=[];o.O=function(n,t,r,i){if(!t){var a=1/0;for(l=0;l<e.length;l++){t=e[l][0],r=e[l][1],i=e[l][2];for(var c=!0,s=0;s<t.length;s++)(!1&i||a>=i)&&Object.keys(o.O).every((function(e){return o.O[e](t[s])}))?t.splice(s--,1):(c=!1,i<a&&(a=i));if(c){e.splice(l--,1);var u=r();void 0!==u&&(n=u)}}return n}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[t,r,i]}}(),function(){o.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(n,{a:n}),n}}(),function(){o.d=function(e,n){for(var t in n)o.o(n,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};o.O.j=function(n){return 0===e[n]};var n=function(n,t){var r,i,a=t[0],c=t[1],s=t[2],u=0;if(a.some((function(n){return 0!==e[n]}))){for(r in c)o.o(c,r)&&(o.m[r]=c[r]);if(s)var l=s(o)}for(n&&n(t);u<a.length;u++)i=a[u],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(l)},t=self["webpackChunkwtfsiw"]=self["webpackChunkwtfsiw"]||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))}();var t=o.O(void 0,[998],(function(){return o(1441)}));t=o.O(t)})();
//# sourceMappingURL=app.440f893a.js.map